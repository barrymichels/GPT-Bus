extends layout

block content
  .container.mx-auto.px-4.py-8
    .flex.justify-between.items-center.mb-8
      div
        h1.text-2xl.font-bold.text-white= rider.name
        p.text-gray-400 Payment History
      a(href=`/add-payment/${rider.id}` class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow transition-colors")
        i.fas.fa-plus.mr-2
        | Add Payment

    if payments && payments.length > 0
      .bg-gray-900.rounded-lg.shadow-lg.overflow-hidden
        table.min-w-full
          thead
            tr.bg-gray-800.text-gray-300.text-left
              th.py-3.px-4 Date
              th.py-3.px-4 Amount
              th(class="py-3 px-4 text-right") Actions
          tbody
            each payment in payments
              tr(class="border-t border-gray-800 hover:bg-gray-800 transition-colors")
                td.py-3.px-4.text-white= payment.date
                td.py-3.px-4.text-white
                  = parseFloat(payment.amount).toLocaleString('en-US', { style: 'currency', currency: 'USD' })
                td.py-3.px-4.text-right
                  .space-x-2
                    a(href=`/edit-payment/${payment.id}` class="text-blue-400 hover:text-blue-300") Edit
                    form(method="post" action=`/delete-payment/${payment.id}` class="inline")
                      button(type="submit" class="text-red-400 hover:text-red-300" onclick="return confirm('Are you sure you want to delete this payment?')") Delete
    else
      .text-center.text-gray-400.py-8 
        p No payments found for this rider.
        a(href=`/add-payment/${rider.id}` class="inline-block mt-4 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow transition-colors") Add First Payment

    .mt-8.flex.justify-end
      a(href="/dashboard" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg shadow transition-colors") Back to Dashboard
